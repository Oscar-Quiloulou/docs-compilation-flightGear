<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>FlightGear - Compilation Manuelle</title>
  <style>
    body {
      background: #0f1117;
      color: #e0e0e0;
      font-family: 'Courier New', monospace;
      max-width: 1000px;
      margin: auto;
      padding: 2em;
    }
    h1, h2, h3 {
      color: #00ffe0;
      border-bottom: 1px solid #00ffe0;
      padding-bottom: 0.3em;
    }
    a {
      color: #ff4081;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    code {
      background: #1a1c23;
      color: #00ff88;
      padding: 2px 6px;
      border-radius: 4px;
    }
    pre {
      background: #1a1c23;
      color: #00ff88;
      padding: 1em;
      border-radius: 6px;
      overflow-x: auto;
      box-shadow: 0 0 10px #00ffe0;
    }
    ul {
      margin-left: 1em;
    }
    hr {
      border: none;
      border-top: 1px solid #444;
      margin: 2em 0;
    }
    .cockpit {
      background:#111;
      padding:1em;
      border-radius:10px;
      box-shadow:0 0 20px #00ffe0;
      margin-top: 3em;
    }
    .cockpit label {
      display: block;
      margin-top: 1em;
    }
    .cockpit input, .cockpit select {
      background: #1a1c23;
      color: #00ff88;
      border: 1px solid #00ffe0;
      padding: 0.4em;
      border-radius: 4px;
      width: 200px;
    }
    .cockpit button {
      background:#00ffe0;
      color:#000;
      padding:0.5em 1em;
      border:none;
      border-radius:5px;
      margin-top: 1em;
      cursor: pointer;
    }
    .cockpit button:hover {
      background: #00ffcc;
    }
  </style>
</head>
<body>
  <h1>üìò FlightGear - Compilation Manuelle</h1>

  <h2>üß≠ Objectif</h2>
  <p>Compiler FlightGear √† partir du code source, sans privil√®ges root, dans un environnement Linux ou GitHub Codespaces.</p>

  <h2>üìÅ Arborescence recommand√©e</h2>
  <pre><code>flightgear/
‚îú‚îÄ‚îÄ flightgear/
‚îú‚îÄ‚îÄ simgear/
‚îú‚îÄ‚îÄ fgdata/
‚îú‚îÄ‚îÄ openscenegraph/
</code></pre>

  <h2>üß∞ Pr√©requis</h2>
  <h3>D√©pendances syst√®me</h3>
  <pre><code>sudo apt update && sudo apt install -y \
  build-essential cmake libopenscenegraph-dev libopenthreads-dev \
  libpng-dev libgl1-mesa-dev libboost-dev libopenal-dev libcurl4-openssl-dev \
  qtbase5-dev qttools5-dev libqt5svg5-dev libplib-dev libnvtt-dev
</code></pre>

  <h3>D√©p√¥ts √† cloner</h3>
  <pre><code>git clone https://gitlab.com/flightgear/openscenegraph.git
git clone https://github.com/FlightGear/simgear.git
git clone https://github.com/FlightGear/flightgear.git
git clone https://github.com/FlightGear/fgdata.git
</code></pre>

  <h2>üîß Compilation</h2>
  <h3>1. OpenSceneGraph</h3>
  <pre><code>cd openscenegraph
mkdir build && cd build
cmake .. \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_INSTALL_PREFIX=$HOME/osg-fg-install \
  -DNVTT_FOUND=FALSE \
  -DNVTT_INCLUDE_DIR="" \
  -DNVTT_LIBRARY="" \
  -DNVTHREAD_LIBRARY_RELEASE=""
make -j2
make install
</code></pre>

  <h3>2. SimGear</h3>
  <pre><code>cd ../../simgear
mkdir build && cd build
cmake .. \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_INSTALL_PREFIX=$HOME/simgear-install \
  -DCMAKE_PREFIX_PATH="$HOME/osg-fg-install"
make -j2
make install
</code></pre>

  <h3>3. FlightGear</h3>
  <pre><code>cd ../../flightgear
mkdir build && cd build
cmake .. \
  -DSIMGEAR_SOURCE_DIR=../../simgear \
  -DFG_DATA_DIR=../../fgdata \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_PREFIX_PATH="$HOME/simgear-install;$HOME/osg-fg-install"
make -j2
</code></pre>

  <h2>üöÄ Lancement</h2>
  <pre><code>./fgfs --fg-root=../../fgdata</code></pre>
  <ul>
    <li><code>--aircraft=ufo</code> : avion libre</li>
    <li><code>--airport=LFPG</code> : Roissy</li>
    <li><code>--enable-fullscreen</code> : plein √©cran</li>
    <li><code>--httpd=5500</code> : carte web (<a href="http://localhost:5500">localhost:5500</a>)</li>
  </ul>

  <h2>üó∫Ô∏è Carte du monde r√©el</h2>
  <ul>
    <li><a href="https://flyawaysimulation.com/downloads/files/24740/">Sc√®nes HD</a></li>
    <li><a href="https://merspieler.alwaysdata.net/osm2city">OSM2City</a></li>
    <li><code>--httpd=5500</code> + navigateur sur <a href="http://localhost:5500">localhost:5500</a></li>
  </ul>

  <h2>üì¶ Transfert vers un autre PC</h2>
  <pre><code>zip -r flightgear_package.zip flightgear/build simgear-install fgdata</code></pre>
  <pre><code>cd build
./fgfs --fg-root=../fgdata</code></pre>

  <div class="cockpit">
    <h2>üõ´ Cockpit interactif</h2>
    <label for="aircraft">Avion :</label>
    <select id="aircraft">
      <option value="ufo">UFO</option>
      <option value="c172p">Cessna 172</option>
      <option value="b777">Boeing 777</option>
    </select>

    <label for="airport">A√©roport :</label>
    <input type="text" id="airport" value="LFPG">

    <label for="fullscreen">Plein √©cran :</label>
    <input type="checkbox" id="fullscreen" checked>

    <label for="map">Carte web :</label>
    <input type="checkbox" id="map" checked>

    <button onclick="generateCommand()">üéÆ G√©n√©rer la commande</button>

    <pre id="output"></pre>
  </div>
<h2>‚úàÔ∏è Commandes clavier FlightGear</h2>
<table>
  <tr><td><code>s</code></td><td>D√©marrer le moteur</td></tr>
  <tr><td><code>b</code></td><td>Activer les freins</td></tr>
  <tr><td><code>,</code> / <code>.</code></td><td>Frein gauche / droit</td></tr>
  <tr><td><code>g</code></td><td>Train d‚Äôatterrissage</td></tr>
  <tr><td><code>v</code></td><td>Changer de vue</td></tr>
  <tr><td><code>‚áß Shift + v</code></td><td>Vue suivante</td></tr>
  <tr><td><code>Ctrl + v</code></td><td>Vue cockpit</td></tr>
  <tr><td><code>p</code></td><td>Pause / Reprendre</td></tr>
  <tr><td><code>‚áß Shift + m</code></td><td>Afficher la carte</td></tr>
  <tr><td><code>F10</code></td><td>Afficher la barre de menu</td></tr>
  <tr><td><code>Esc</code></td><td>Quitter le simulateur</td></tr>
  <tr><td><code>‚áß Shift + Esc</code></td><td>R√©initialiser le vol</td></tr>
</table>

  <script>
    function generateCommand() {
      const aircraft = document.getElementById("aircraft").value;
      const airport = document.getElementById("airport").value;
      const fullscreen = document.getElementById("fullscreen").checked ? "--enable-fullscreen " : "";
      const map = document.getElementById("map").checked ? "--httpd=5500 " : "";

      const cmd = `./fgfs --fg-root=../../fgdata --aircraft=${aircraft} --airport=${airport} ${fullscreen}${map}`;
      document.getElementById("output").textContent = cmd;
    }
  </script>

  <hr>
  <p><em>Doc r√©dig√©e par Dimitri, Simon, et Oscar ‚Äî pour les pilotes qui compilent √† la main üßë‚Äç‚úàÔ∏èüíª</em></p>
</body>
</html>
