<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>FlightGear - Compilation Manuelle</title>
  <style>
    body {
      background: #0f1117;
      color: #e0e0e0;
      font-family: 'Courier New', monospace;
      max-width: 1000px;
      margin: auto;
      padding: 2em;
    }
    h1, h2, h3 {
      color: #00ffe0;
      border-bottom: 1px solid #00ffe0;
      padding-bottom: 0.3em;
    }
    a {
      color: #ff4081;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    code {
      background: #1a1c23;
      color: #00ff88;
      padding: 2px 6px;
      border-radius: 4px;
    }
    pre {
      background: #1a1c23;
      color: #00ff88;
      padding: 1em;
      border-radius: 6px;
      overflow-x: auto;
      box-shadow: 0 0 10px #00ffe0;
    }
    ul {
      margin-left: 1em;
    }
    hr {
      border: none;
      border-top: 1px solid #444;
      margin: 2em 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ“˜ FlightGear - Compilation Manuelle</h1>

  <h2>ğŸ§­ Objectif</h2>
  <p>Compiler FlightGear Ã  partir du code source, sans privilÃ¨ges root, dans un environnement Linux ou GitHub Codespaces.</p>

  <h2>ğŸ“ Arborescence recommandÃ©e</h2>
  <pre><code>flightgear/
â”œâ”€â”€ flightgear/
â”œâ”€â”€ simgear/
â”œâ”€â”€ fgdata/
â”œâ”€â”€ openscenegraph/
</code></pre>

  <h2>ğŸ§° PrÃ©requis</h2>
  <h3>DÃ©pendances systÃ¨me</h3>
  <pre><code>sudo apt update && sudo apt install -y \
  build-essential cmake libopenscenegraph-dev libopenthreads-dev \
  libpng-dev libgl1-mesa-dev libboost-dev libopenal-dev libcurl4-openssl-dev \
  qtbase5-dev qttools5-dev libqt5svg5-dev libplib-dev libnvtt-dev
</code></pre>

  <h3>DÃ©pÃ´ts Ã  cloner</h3>
  <pre><code>git clone https://gitlab.com/flightgear/openscenegraph.git
git clone https://github.com/FlightGear/simgear.git
git clone https://github.com/FlightGear/flightgear.git
git clone https://github.com/FlightGear/fgdata.git
</code></pre>

  <h2>ğŸ”§ Compilation</h2>
  <h3>1. OpenSceneGraph</h3>
  <pre><code>cd openscenegraph
mkdir build && cd build
cmake .. \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_INSTALL_PREFIX=$HOME/osg-fg-install \
  -DNVTT_FOUND=FALSE \
  -DNVTT_INCLUDE_DIR="" \
  -DNVTT_LIBRARY="" \
  -DNVTHREAD_LIBRARY_RELEASE=""
make -j2
make install
</code></pre>

  <h3>2. SimGear</h3>
  <pre><code>cd ../../simgear
mkdir build && cd build
cmake .. \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_INSTALL_PREFIX=$HOME/simgear-install \
  -DCMAKE_PREFIX_PATH="$HOME/osg-fg-install"
make -j2
make install
</code></pre>

  <h3>3. FlightGear</h3>
  <pre><code>cd ../../flightgear
mkdir build && cd build
cmake .. \
  -DSIMGEAR_SOURCE_DIR=../../simgear \
  -DFG_DATA_DIR=../../fgdata \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_PREFIX_PATH="$HOME/simgear-install;$HOME/osg-fg-install"
make -j2
</code></pre>

  <h2>ğŸš€ Lancement</h2>
  <pre><code>./fgfs --fg-root=../../fgdata</code></pre>
  <ul>
    <li><code>--aircraft=ufo</code> : avion libre</li>
    <li><code>--airport=LFPG</code> : Roissy</li>
    <li><code>--enable-fullscreen</code> : plein Ã©cran</li>
    <li><code>--httpd=5500</code> : carte web (<a href="http://localhost:5500">localhost:5500</a>)</li>
  </ul>

  <h2>ğŸ—ºï¸ Carte du monde rÃ©el</h2>
  <ul>
    <li><a href="https://flyawaysimulation.com/downloads/files/24740/">ScÃ¨nes HD</a></li>
    <li><a href="https://merspieler.alwaysdata.net/osm2city">OSM2City</a></li>
    <li><code>--httpd=5500</code> + navigateur sur <a href="http://localhost:5500">localhost:5500</a></li>
  </ul>

  <h2>ğŸ“¦ Transfert vers un autre PC</h2>
  <pre><code>zip -r flightgear_package.zip flightgear/build simgear-install fgdata</code></pre>
  <pre><code>cd build
./fgfs --fg-root=../fgdata</code></pre>

  <hr>
  <p><em>Doc rÃ©digÃ©e par Dimitri & Copilot â€” pour les pilotes qui compilent Ã  la main ğŸ§‘â€âœˆï¸ğŸ’»</em></p>
</body>
</html>
